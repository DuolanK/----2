local db = true
script.Parent.Touched:Connect(function(hit)
    if hit.Parent:FindFirstChild("Humanoid") ~= nil then
        if db == true then
            db = false
            script.Parent.Transparency = 1
            local player = game.Players:GetPlayerFromCharacter(hit.Parent)

            -- Увеличиваем количество монет в leaderstats
            player.leaderstats.Coins.Value = player.leaderstats.Coins.Value + 1

            -- Обновляем счет в TextLabel
            local playerGui = player:WaitForChild("PlayerGui")
            local screenGui = playerGui:WaitForChild("ScreenGui")
            local scoreLabel = screenGui:WaitForChild("TextLabel")

            -- Обновляем текст в TextLabel
            scoreLabel.Text = "Coins: " .. player.leaderstats.Coins.Value

            -- Воспроизводим звук
            script.Sound:Play()

            wait(1)

            -- Удаляем монетку
            script.Parent:Remove()
        end
    end
end)



game.Players.PlayerAdded:Connect(function(player)
    -- Создаем папку leaderstats, если ее нет
    local leaderstats = Instance.new("Folder")
    leaderstats.Name = "leaderstats"
    leaderstats.Parent = player
    
    -- Создаем переменную Coins и присваиваем начальное значение 0
    local coins = Instance.new("IntValue")
    coins.Name = "Coins"
    coins.Value = 0
    coins.Parent = leaderstats
end)
